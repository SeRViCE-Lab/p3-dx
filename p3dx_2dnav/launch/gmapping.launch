<launch>
	
	<arg name="scan" default="scan" />
	<arg name="_odom_frame" default="odom" />
  	<arg name="respawn" default="false"/>
  	<arg name="clock"  value="--clock" />  	
  	<arg name="filename"  value="myroom.bag" />

	<param name="use_sim_time" type="bool" value="false" />
	<param name="respawn" type="bool" value="true"/>

	<node pkg="gmapping" type="slam_gmapping" name="gmapping">
		<remap from="scan"  to="/RosAria/lms5XX_1_laserscan"/>

		<!--http://docs.ros.org/indigo/api/gmapping/html/
			http://answers.ros.org/question/31036/tips-to-improve-gmapping-results/-->		
		<param name="scan" value="/RosAria/lms5XX_1_laserscan" />
		<param name="_odom_frame" value="/RosAria/pose" />
		<param name="_tf" value="/tf" />
		<param name="map_frame" value="Map" />  <!-- frame name when published -->
		<param name="map_update_interval" value="2" /> <!-- 2 seconds -->
		<param name="_particles" value="100" /> <!-- number of particles to use -->
		<param name="_linearUpdate" value="0.1" /> 		 <!-- update meas. if the robot has moved at least this many meters -->
		<param name="_angularUpdate" value="10*pi/180" />  <!-- update new measurements if robot rotates by more than 10 deg -->

		<!-- Laser Params -->
		<param name="_minimumScore" value="70" /> <!--avoid jumping estimates -->
		<param name="_maxRange" value="0.7" /> <!-- 0.8m actual for laser -->
		<param name="_maxURange" value="0.6" /> <!-- 0.4m for laser map building -->
		<param name="_ogain" value="3.0" /> <!-- gain for likelihood smoothing -->
		<param name="_resampleThreshold" value="6.0" />		
		<param name="_lstep" value="30.0" />
		<param name="_astep" value="30.0" />
		<param name="_kernelSize" value="3" />
		<param name="_iteraions" value="10" /> <!-- # of scan matching iters -->	
		<param name="sigma" value="1.5" />  <!-- std dev for scan matching [cell] -->		
		<param name="lsigma" value="1.5" />  <!-- std dev for scanmatching -->
		
		<!-- Motion Model Parameters (all standard deviations of a gaussian noise model) -->
		<param name="_srr" value="1.0" />
		<param name="_stt" value="1.0" />
		<param name="_srt" value="1.0" />
		<param name="_str" value="1.0" />
	</node>
</launch>